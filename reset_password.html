<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aalupino | Signup</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/img/favicon.png" />
    <!-- Remix icons -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet" />
    <!-- Custom styles-->
    <link rel="stylesheet" href="./assets/css/style.css" />
</head>

<body>
    <header class="header" id="header">
        <nav class="navbar container">
            <a href="./index.html" class="noSelect">
                <h2 class="logo">Aalupino</h2>
            </a>

            <button class="btn place-items-center noSelect hidden" id="theme-toggle-btn">
                <i class="ri-sun-line sun-icon"></i>
                <i class="ri-moon-line moon-icon"></i>
            </button>

        </nav>
    </header>

    <section class="signup-form-container container">
        <div class="form-container-inner">
            <p class="login-form-note">Verify your email and enter a new password.</p>
            <div class="email-check">
                <p>
                    <span>We've sent a code to</span>
                    <br>
                    <span>example@gmail.com</span>
                    <a href="./login.html">Edit</a>
                </p>
            </div>
            <form action="" class="form">
                <div class="form-input-wrapper">
                    <div class="input-wrapper">
                        <input class="x-form-input" id="code" type="number" placeholder="Code" required />
                        <button type="button" class="btn noSelect place-icon" id="refresh-btn">
                            <i class="ri-refresh-line"></i>
                        </button>
                    </div>

                    <div class="input-wrapper">
                        <input class="x-form-input" id="password" type="password" placeholder="New Password" required />
                        <div class="instruct">
                            <p><span><i class="ri-close-line"></i></span>Minimum of 8 characters</p>
                            <p><span><i class="ri-close-line"></i></span>Uppercase, lowercase and one number</p>
                        </div>
                        <button type="button" class="btn noSelect place-icon" id="password-toggle-btn">
                            <i class="ri-eye-line eye-icon"></i>
                            <i class="ri-eye-off-line eye-off-icon"></i>
                        </button>
                    </div>
                </div>

                <div class="pass-reset">
                    <button type="button" class="btn submit-form-btn">Cancel</button>
                    <button class="btn submit-form-btn" id="save" type="submit">Save</button>
                </div>
            </form>
    </section>



    <script>
        // Grab elements
        const selectElement = (selector) => {
            const element = document.querySelector(selector);
            if (element) return element;
            throw new Error(
                `Something went wrong! Make sure that ${selector} exists/is typed correctly.`
            );
        };

        // Switch theme/add to local storage
        const body = document.body;
        const themeToggleBtn = selectElement("#theme-toggle-btn");
        const currentTheme = localStorage.getItem("currentTheme");

        // Check to see if there is a theme preference in local Storage, if so add the ligt theme to the body
        if (currentTheme) {
            body.classList.add("dark-theme");
        }

        themeToggleBtn.addEventListener("click", function () {
            // Add dark theme on click
            body.classList.toggle("dark-theme");

            // If the body has the class of light theme then add it to local Storage, if not remove it
            if (body.classList.contains("dark-theme")) {
                localStorage.setItem("currentTheme", "themeActive");
            } else {
                localStorage.removeItem("currentTheme");
            }
        });

        // Toggling the Password Visibility
        const togglePassword = document.querySelector("#password-toggle-btn");
        const password = document.querySelector("#password");

        togglePassword.addEventListener("click", function () {
            // toggle the type attribute
            const type = password.getAttribute("type") === "password" ? "text" : "password";
            password.setAttribute("type", type);

            // toggle the icon
            togglePassword.classList.toggle('activated');

        });

        // prevent form submit
        const form = document.querySelector("form");
        form.addEventListener('submit', function (e) {
            if (e.submitter.matches('#password-toggle-btn')) {
                e.preventDefault();
            }
        });
    </script>
</body>

</html>